# final_pjt

## 1. 팀원 정보 및 업무 분담 내역

- **팀원**:

    * 홍창근

    * 윤승주

- **업무 분담**:

    * **홍창근**: 도서(Books) 및 리뷰(Reviews) 관련 기능 개발, 추천(Recommendations) 시스템 구축 참여 및 기타 기능 추가 및 개선

    * **윤승주**: 마이페이지, 계정, 추천 알고리즘 작성, 데이터 추출

## 2. 목표 서비스 구현 및 실제 구현 정도

- **2.1. 목표 서비스**:

    * 사용자 입력 키워드(예: '우정', '몰입')의 의미를 분석하여 연관성 높은 도서를 추천하는 기능

    * 리뷰 및 댓글 기능을 통한 사용자 간 양방향 소통이 가능한 커뮤니티 환경 조성

    * 다양한 카테고리별 도서 검색 및 필터링 기능 제공

- **2.2. 실제 구현 정도**:

    * 키워드 기반 도서 추천 기능: 사용자 입력 키워드에 따른 맞춤형 도서 추천 기능 구현 완료.

    * 리뷰 및 커뮤니티 기능:

        * 메인 페이지에서 최신 리뷰를 실시간으로 확인할 수 있는 기능 구현.

        * 사용자는 도서별 리뷰와 댓글을 작성, 수정, 삭제할 수 있으며, 이를 통해 상호작용 가능.

    * 도서 검색 기능:
        * 제목, 저자, 출판사별 개별 검색 및 통합 검색 기능 구현 완료.

        * 전체 도서 목록 조회 및 카테고리별 도서 필터링 기능 구현 완료.

## 3. 데이터베이스 모델링 (ERD)

![ERD](ERD.png)

## 4. 도서 추천 알고리즘에 대한 기술적 설명

    * **기본 데이터**: 추천의 대상이 되는 책 목록은 Django의 books.models.Book 모델을 통해 데이터베이스에서 실시간으로 조회된 모든 책들의 정보입니다.

    * **데이터 가공**: 
      * 각 책의 title (제목)과 description (설명) 필드가 사용됩니다.
      * 제목은 앞뒤 공백이 제거되고, 줄바꿈 문자가 공백으로 치환됩니다.
      * 설명은 내용이 없을 경우 "설명 없음"으로 대체되며, 마찬가지로 전처리 후 앞부분 80자까지만 요약되어 사용됩니다.
      * 이렇게 가공된 책 정보들은 "- 제목: 설명 요약..." 형식의 텍스트 목록(book_list_text)으로 변환됩니다. 이 목록이 LLM에게 제공되는 **추천 가능한 책들의 범위(컨텍스트)**가 됩니다.

    * **핵심 엔진**: OpenAI의 gpt-4o-mini

    * **프롬프트 엔지니어링** : 사용자가 입력한 keyword와 위에서 생성된 book_list_text (제한된 책 목록)를 조합하여 LLM에게 전달할 상세한 **프롬프트(지시문)**를 구성합니다.

      * **프롬프트의 주요 지시 사항**:  
        * 제공된 book_list_text 내에서만 책을 추천할 것 (절대 목록에 없는 책을 지어내지 말 것).
        * 주어진 keyword를 좋아하는 사람에게 어울릴 만한 책 3권을 추천할 것.
        * 책 설명 없이, 정확히 책 제목만 줄 단위로 출력할 것.
        * 다른 부가적인 말(인사, 감상 등)은 절대 포함하지 말 것.
        * 명확한 출력 예시 제공

      * **시스템 역할 부여** : {"role": "system", "content": "당신은 도서 큐레이터입니다."} 메시지를 통해 LLM이 특정 역할을 수행하도록 유도합니다. 이는 응답의 톤앤매너와 전문성에 영향을 줄 수 있습니다.

    * **추론 및 선택** : gpt-4o-mini 모델은 이 프롬프트를 이해하고, 제공된 책 목록 내에서 사용자의 keyword와 각 책의 제목 및 요약 설명을 비교 분석하여 가장 관련성이 높다고 판단되는 책 3권의 제목을 선택합니다. 이 과정은 LLM의 방대한 사전 학습 데이터와 문맥 이해 능력을 기반으로 이루어집니다.

    * **매개변수 설정** : 
      * model="gpt-4o-mini": 비교적 최신의 고성능 소형 모델을 사용하여 비용과 성능의 균형을 맞춥니다.
      * max_tokens=500: 응답의 최대 길이를 제한하여 불필하게 긴 출력을 방지합니다.
      * temperature=0.7: 응답의 창의성(무작위성)을 조절합니다. 0.7은 어느 정도 일관성을 유지하면서도 다양한 추천이 가능하도록 하는 값입니다. (0에 가까울수록 결정론적, 1에 가까울수록 창의적)
  
    * **결과 처리 (Output Processing)** : 
      * LLM으로부터 받은 응답(텍스트 형태의 책 제목 목록)에서 앞뒤 공백을 제거합니다.
      * 줄바꿈 문자(\n)를 기준으로 각 줄을 분리하여 리스트로 만듭니다.
      * 각 줄(책 제목)의 앞뒤 공백을 다시 한번 제거하고, 빈 줄은 제외하여 최종적으로 추천된 책 제목들의 리스트를 반환합니다.

    * **오류 처리 (Error Handling)**:
      * OpenAI API 호출 과정에서 발생할 수 있는 예외(네트워크 오류, API 키 오류 등)를 try-except 블록으로 감지합니다.
      * 오류 발생 시 콘솔에 에러 메시지를 출력하고, 빈 리스트([])를 반환하여 시스템의 다른 부분에 오류가 전파되지 않도록 합니다.


## 5. 핵심 기능에 대한 설명

    * **AI 기반 키워드 분석 도서 추천**: 사용자가 입력한 특정 키워드의 문맥적 의미를 AI가 분석하여, 사용자 의도와 가장 관련성이 높은 도서를 선별하여 추천합니다.

    * **사용자 참여형 리뷰 및 커뮤니티**: 사용자는 각 도서에 대한 평점과 상세 리뷰를 작성하여 자신의 경험을 공유할 수 있습니다. 또한, 다른 사용자의 리뷰에 댓글을 남기며 자유롭게 의견을 교환하고 소통하는 커뮤니티 기능을 제공합니다.

    * **다각적 도서 검색**: 사용자는 도서의 제목, 저자, 출판사 정보를 활용한 개별 검색뿐만 아니라, 여러 조건을 통합한 검색 기능을 이용할 수 있습니다. 더불어, 세분화된 카테고리별 필터링을 통해 원하는 도서를 효율적으로 탐색할 수 있도록 지원합니다.

## 6. 생성형 AI를 활용한 부분

    * **UI/UX 디자인 개선**: 생성형 AI를 활용하여 CSS 스타일링 및 사용자 인터페이스(UI)의 시각적 디테일과 사용성을 향상시켰습니다.

    * **백엔드 및 프론트엔드 개발 효율 증진**: 프로젝트 내 복잡한 기능 구현 시, Django 뷰(views) 함수 및 템플릿(templates)의 초기 구조 설계와 코드 초안 작성 과정에서 생성형 AI의 지원을 받아 개발 생산성을 높였습니다.

    * **코드 검토 및 디버깅 지원**: Django 모델(models), 폼(forms) 등 핵심 로직 작성 완료 후, 생성형 AI를 활용한 코드 리뷰 및 분석을 통해 개발 과정에서 미처 파악하지 못한 잠재적 오류를 사전에 식별하고 수정하여 애플리케이션의 안정성을 강화했습니다.

## 7. 기타 (느낀 점, 후기)

    * **홍창근**: 이번 프로젝트는 그동안 학습한 웹 개발 지식과 기술을 집약하여 실제 사용자에게 가치를 제공하는 서비스를 만들어보는 귀중한 경험이었습니다. 먼저, 서비스의 기반이 되는 도서 정보 관리 및 사용자 리뷰 기능을 구현하면서 안정적인 데이터 처리와 사용자 친화적인 인터페이스 설계의 중요성을 깊이 체감했습니다. 이러한 핵심 기능들을 바탕으로, 도서 추천 기능의 구현 과정에 참여하여 추천 알고리즘의 결과물을 사용자 인터페이스에 효과적으로 연동하고 관련 데이터를 관리하는 역할을 수행했습니다. 이 모든 과정을 통해 데이터가 어떻게 수집, 처리되어 서비스의 핵심 가치로 전환되고 사용자 경험을 풍부하게 만드는지 실질적으로 이해하게 되었습니다. 또한, 프로젝트 전반에서 생성형 AI를 적극적으로 활용하여 기술적 난관을 해결하고 개발 생산성을 향상시켰으며, AI가 창의적인 문제 해결의 강력한 동반자임을 확신하게 되었습니다.

## 8. 배포 서버 URL (배포했을 경우)

- *https://final-pjt.onrender.com
